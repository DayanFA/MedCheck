<div class="login-wrapper d-flex align-items-center justify-content-center min-vh-100 py-4 forgot-wrapper">
  <div class="login-shell position-relative w-100 mx-3">
    <div class="decor-circle deco-1"></div>
    <div class="decor-circle deco-2"></div>
    <div class="card login-card shadow-lg border-0 overflow-hidden" role="main" aria-labelledby="forgotTitle">
      <div class="row g-0 h-100 flex-md-row flex-column">
        <!-- Hero / Logo -->
        <div class="col-md-6 d-flex align-items-center justify-content-center p-4 p-md-5 logo-pane position-relative order-1 order-md-0">
          <div class="inner-wrapper w-100">
            <div class="logo-content text-center uniform-center">
              <img src="/assets/logo.png" alt="MedCheck Logo" class="img-fluid logo-img mb-4" loading="eager">
              <h2 class="h5 fw-semibold mb-2 brand-heading">Recuperar Acesso</h2>
              <p class="text-muted small mb-0 brand-sub">Informe seu e-mail institucional e enviaremos instruções.</p>
            </div>
          </div>
        </div>
        <!-- Form Column -->
        <div class="col-md-6 d-flex flex-column p-4 p-md-5 form-pane order-0 order-md-1">
          <div class="inner-wrapper w-100">
            <div class="mb-4 text-center text-md-start">
              <h1 id="forgotTitle" class="display-title h5 fw-bold mb-1">Redefinir Senha</h1>
              <p class="text-muted small mb-0" *ngIf="!submitted">Digite seu e-mail institucional para receber o link.</p>
            </div>
            <hr class="section-sep d-md-none mb-4 mt-0" aria-hidden="true">
            <ng-container *ngIf="!submitted; else doneTpl">
              <form (ngSubmit)="submit()" class="needs-validation" novalidate>
                <div class="mb-3">
                  <label for="email" class="form-label small fw-semibold">E-mail</label>
                  <div class="input-group input-group-sm enhanced-group">
                    <span class="input-group-text"><i class="bi bi-at"></i></span>
                    <input type="email" id="email" class="form-control" [(ngModel)]="email" name="email" placeholder="email@exemplo.com" autocomplete="email" required>
                  </div>
                </div>
                <div class="d-flex gap-2 mb-2">
                  <button class="btn btn-primary btn-login btn-sm flex-grow-1 d-flex align-items-center justify-content-center gap-2" type="submit" [disabled]="loading">
                    <span *ngIf="!loading">Enviar</span>
                    <span *ngIf="loading" class="d-inline-flex align-items-center gap-2"><span class="spinner-border spinner-border-sm"></span> Enviando...</span>
                  </button>
                  <button type="button" (click)="goBack()" class="btn btn-outline-secondary btn-sm flex-grow-1">Voltar</button>
                </div>
                <div class="text-center small text-muted">&copy; {{ currentYear }} MedCheck</div>
              </form>
            </ng-container>
            <ng-template #doneTpl>
              <div class="alert alert-success small mb-3 mt-2">Se o e-mail existir, enviaremos instruções para redefinir sua senha.</div>
              <div class="d-flex gap-2">
                <button type="button" (click)="goBack()" class="btn btn-primary btn-login btn-sm flex-grow-1">Voltar ao Login</button>
              </div>
              <div class="text-center small text-muted mt-3">&copy; {{ currentYear }} MedCheck</div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
