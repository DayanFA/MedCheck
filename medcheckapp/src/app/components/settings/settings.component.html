<div class="settings-wrapper">
  <div class="card p-3 p-md-4">
    <h5 class="mb-3">Configurações</h5>
    <div class="row g-4 align-items-center">
      <div class="col-12 col-md-4">
        <div class="d-flex flex-column align-items-center">
          <div class="avatar rounded-circle mb-2 border bg-light d-flex align-items-center justify-content-center">
            <img *ngIf="photoUrl" [src]="photoUrl" alt="Foto de perfil" class="img-fluid rounded-circle" />
            <i *ngIf="!photoUrl" class="bi bi-person text-muted" style="font-size: 3rem;"></i>
          </div>
          <div class="d-flex gap-2">
            <label class="btn btn-sm btn-primary m-0">
              Alterar foto
              <input type="file" accept="image/*" (change)="onFileSelected($event)" hidden />
            </label>
            <button class="btn btn-sm btn-outline-danger" (click)="removePhoto()" [disabled]="!photoUrl || saving">Remover</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-8">
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <label class="form-label small">Telefone</label>
            <input class="form-control" [(ngModel)]="phone" appMask="phone" placeholder="(00) 00000-0000" required />
          </div>
        </div>
        <div class="text-end mt-3">
          <button class="btn btn-primary" (click)="save()" [disabled]="saving || !phoneDigitsCount">Salvar</button>
        </div>
        <div class="small mt-2" [class.text-success]="msg.includes('salv') || msg.includes('Foto')" [class.text-danger]="msg.startsWith('Falha')">{{msg}}</div>
      </div>
    </div>
  </div>
</div>
